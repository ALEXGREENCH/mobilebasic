Изменения:
1. Увеличен вес возможного кода до 65535 байт
2. Переписана компиляция bas в rpn. Bas созданные в старой версии MB не откроются в версии 1.9.1, т.е. в этой, но lis откроется
3. [NOKIA] Исправлен баг с открытием исполняемых файлов из RMS и сборка в мидлет.
Файлы собираются с расширениями _jar и _jad. Определяется автоматически
4. Добавлена команда SENDSMS(сокращенный вид - SS), которая позволяет отправлять sms на любой номер с любым текстом
I% = SENDSMS("1234","text")
I% = 1 - отправлено успешно, О - не успешно
5. Добавлена команда REPAINT.
Вызывать REPAINT нужно уже после того как закончен вызов графических команд(все заносится в буфер, а RE рисует уже на экране).
Например:
10 CLS
20 DRAWLINE 0, 0, 10, 10
30 REPAINT:GOTO 10
REPAINT желательно вызывать один раз за цикл.
Плюс в таком изменении очень огромен, пропали мерцания и поднялась производительность
6. Переписан полностью float(который хранится в переменных без символа например R = 0.01).
Это ускорило над ними операции сложения/умножения (и т.д) в 5-ть раз и повысило точность вычислений.
Тоже самое относится к вызовам функций COS, SIN, TAN, ABS
7. То что невидно:
Константа float записывается в специальное поле, а не в код программы
8. В настройках сборки мидлета появилась опция - "Полный экран", т.е. можно выбрать будет ли FullScreen при рисовании или нет. По умолчанию - Вкл
9. Команда SPRITEHIT теперь работает как надо.
10. Добавлена команда RAND(MIN%,MAX%) - случайное число от min до max
11. [Предположительно не работает на телефонах от Samsung] Появились команды для установки прозрачности в гелях:
ALPHAGEL GEL$,A%(сокращенный вид AG) - общая прозрачность картинки
A%=0 - полностью прозрачна
COLORALPHAGEL GEL$,A%,R%,G%,B%(CAG) - а с помощью этой можно установить прозрачность определенному цвету.
Все числовые значения 0 - 255
12. Полностью переписана работа со спрайтами.
Появились команды DELGEL GEL$ и DELSPRITE SPRITE$, которые удаляют заданные гели и спрайты.
13. Устранен конфликт апи для работы с файловой системой на телефонах Nokia(Symbian)
14. Новая команда PLATFORMREQUEST LINK$(сокращенный вид PFR), где LINK$ ссылка на любой сайт или номер телефона.
Использует стандартные средства телефона для открытия ссылок в браузере или выполнения звонка.
Пример:
10 PFR "http://google.ru"
20 PFR "tel://1234"
15. В названии переменной теперь можно использовать символ "_"
16. Команда MKDIR(PATH$) создает новую папку в файловой системе.
Пример:
I%=MKDIR("file:///c:/other/new/")
, где I%=0 - не удалось создать, 1 - успешно.
Если в пути присутствует несколько несуществующих каталогов, а не один(последний) или папка уже существует, то она не создастся!
17. Пофиксил отправку POST запросов [протокол http] в команде OPEN. Дополнил справку по ней.
18. Теперь при сборке можно выделить сразу все файлы в списке, нажав команду - "Отметить все".
Отзывы и предложения:
kiriman90@gmail.com
dzanis and kiriman 30.07.2013